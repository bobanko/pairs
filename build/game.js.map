{"version":3,"sources":["webpack:///webpack/bootstrap 5197f1ea4db888ff2ac7","webpack:///./app/components/field/field.js","webpack:///./app/components/field/fieldSize.service.js","webpack:///./app/helpers/getRandomInt.js","webpack:///./app/styles/index.less","webpack:///./app/components/item/item.js","webpack:///./app/app.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AChEa;;AAEb;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,6BAA6B;;AAErD;;AAEA,0BAA0B,6BAA6B;;AAEvD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACjCA;AACA;AACA;AACA;;;;;;;;;ACHA;AACA;AACA;;;;;;;ACFA,yC;;;;;;;ACAA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AAAA;AAAA;;;;;;;;;;;;;;AChDA;AACA;;AAEA;;AAEuB;AACP;AACO;;AAEvB;;;AAGA;;AAEA;;AAEA;AACA,gBAAgB,eAAe;AAC/B;AACA;;AAEA;AACA;;AAEA;;;AAGA,SAAS;AACT;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5197f1ea4db888ff2ac7","import {Item} from '../item/item';\n\nexport class Field {\n\n\tconstructor(fieldSize) {\n\t\tthis.size = fieldSize;\n\n\t}\n\n\tinit(items) {\n\t\tthis.draw(items);\n\t}\n\n\tdraw(items) {\n\t\tlet rows = [];\n\t\tthis.element = document.createElement('div');\n\t\tfor (let rowIndex = 0; rowIndex < this.size.height; rowIndex++) {\n\n\t\t\tlet row = $('<div class=\"row\"></div>');\n\n\t\t\tfor (let cellIndex = 0; cellIndex < this.size.width; cellIndex++) {\n\n\t\t\t\tlet rndImageIndex = items.shift();\n\n\t\t\t\tlet item = new Item(rndImageIndex);\n\n\t\t\t\trow.append(item.element.outerHTML);\n\t\t\t}\n\n\t\t\trows.push(row);\n\t\t}\n\t\t$('.field').html(rows);\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/field/field.js\n// module id = 0\n// module chunks = 0","export function getFieldSize() {\r\n\tconst apiUrl = 'https://kde.link/test/get_field_size.php';\r\n\treturn $.getJSON(apiUrl);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/field/fieldSize.service.js\n// module id = 1\n// module chunks = 0","export function getRandomInt(min, max) {\r\n\treturn min + Math.floor(Math.random() * (max - min + 1));\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/helpers/getRandomInt.js\n// module id = 2\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/styles/index.less\n// module id = 3\n// module chunks = 0","const isOpenClassName = 'is-open';\n\nexport class Item {\n\tconstructor(imageIndex) {\n\t\tthis.initElement(imageIndex);\n\n\t\t//this.imageId = imageIndex;\n\t}\n\n\tinitElement(imageIndex) {\n\n\t\tconst element = document.createElement('div');\n\t\telement.classList.add('cell');\n\t\telement.innerHTML = `<item data-id=${ imageIndex }></item>`;\n\t\tthis.element = element;\n\t}\n\n\ttoggle(isOpen) {\n\t\tif (isOpen === undefined) {\n\t\t\tthis.isOpen = !this.isOpen;\n\t\t} else {\n\t\t\tthis.isOpen = isOpen;\n\t\t}\n\t}\n\n\n\tget cell() {\n\t\tthis.element.querySelector('cell');\n\t}\n\n\n\tget imageId() {\n\t\treturn this.cell.dataset.id;\n\t}\n\n\tset imageId(value) {\n\t\tthis.cell.dataset.id = value;\n\t}\n\n\tget isOpen() {\n\t\treturn this.element.classList.contains(isOpenClassName);\n\t}\n\n\tset isOpen(value) {\n\t\tthis.element.classList.toggle(isOpenClassName, value);\n\t}\n\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/item/item.js\n// module id = 4\n// module chunks = 0","'use strict';\nconst imageCount = 12;\n\nimport './styles/index.less';\n\nimport { getFieldSize } from './components/field/fieldSize.service';\nimport { Field } from './components/field/field';\nimport { getRandomInt } from './helpers/getRandomInt';\n\ngetFieldSize().then(getPairs).then(drawField);\n\n\nfunction getPairs(size) {\n\n\tlet pairCount = size.width * size.height / 2;\n\n\tlet pairs = [];\n\tfor (let i = 0; i < pairCount; i++) {\n\t\tpairs.push(getRandomInt(1, imageCount));\n\t}\n\n\tpairs = pairs.concat(pairs);\n\tpairs.sort((a, b) => getRandomInt(0, 1));\n\n\tsize.pairs = pairs;\n\n\n\treturn {size: size, pairs: pairs};\n}\n\nfunction drawField(data) {\n\n\tlet field = new Field(data.size);\n\n\tfield.draw(data.pairs);\n\n}\n\nlet selectedPairs = [];\n\nfunction selectItem(event) {\n\tif (event.target.tagName === 'ITEM') {\n\t\tlet element = event.target;\n\n\t\tlet elementIndex = selectedPairs.indexOf(element);\n\t\tif (elementIndex >= 0) {\n\t\t\t$(element).toggleClass('open', false);\n\t\t\tselectedPairs.splice(elementIndex, 1);\n\t\t\treturn;\n\t\t}\n\n\t\tselectedPairs.push(element);\n\t\t$(element).toggleClass('open', true);\n\n\t\t//second item opened - check both and decide\n\t\tif (selectedPairs.length === 2) {\n\t\t\tlet isSame = selectedPairs\n\t\t\t\t.map((element) => $(element).data('id'))\n\t\t\t\t.reduce((a, b) => {\n\t\t\t\t\treturn a === b;\n\t\t\t\t});\n\n\t\t\tif (isSame) {\n\t\t\t\tselectedPairs.forEach(e => setTimeout(() => $(e).toggleClass('hidden'), 500));\n\t\t\t} else {\n\t\t\t\tselectedPairs.forEach(e => setTimeout(() => $(e).toggleClass('open', false), 500));\n\t\t\t}\n\t\t\t//clear pairs arr\n\t\t\tselectedPairs.length = 0;\n\t\t}\n\t}\n}\n\ndocument.querySelector('.field').addEventListener('click', selectItem);\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/app.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}