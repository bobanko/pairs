{"version":3,"sources":["webpack:///webpack/bootstrap bf7ac1d2b86fa0c93d22?a1c0*","webpack:///./app/app.js"],"names":["apiUrl","imageCount","$","getJSON","then","getPairs","drawField","console","log","size","pairCount","width","height","pairs","i","push","getRandomInt","concat","sort","a","b","exports","data","rows","rowIndex","row","cellIndex","rndImageIndex","shift","cell","append","html","min","max","Math","floor","random","selectedPairs","selectItem","event","target","tagName","element","elementIndex","indexOf","toggleClass","splice","length","isSame","map","reduce","forEach","e","setTimeout","document","querySelector","addEventListener"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AChEA,IAAMA,SAAS,0CAAf;AACA,IAAMC,aAAa,EAAnB;;AAEAC,EAAEC,OAAF,CAAUH,MAAV,EAAkBI,IAAlB,CAAuBC,QAAvB,EAAiCD,IAAjC,CAAsCE,SAAtC;;AAEA;;AAEAC,QAAQC,GAAR,CAAY,IAAZ;;AAEA,SAASH,QAAT,CAAkBI,IAAlB,EAAwB;;AAEvB,KAAIC,YAAYD,KAAKE,KAAL,GAAaF,KAAKG,MAAlB,GAA2B,CAA3C;;AAEA,KAAIC,QAAQ,EAAZ;AACA,MAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,SAApB,EAA+BI,GAA/B,EAAoC;AACnCD,QAAME,IAAN,CAAWC,aAAa,CAAb,EAAgBf,UAAhB,CAAX;AACA;;AAEDY,SAAQA,MAAMI,MAAN,CAAaJ,KAAb,CAAR;AACAA,OAAMK,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,SAAUJ,aAAa,CAAb,EAAgB,CAAhB,CAAV;AAAA,EAAX;;AAEAP,MAAKI,KAAL,GAAaA,KAAb;;AAGA,QAAO,EAACJ,MAAMA,IAAP,EAAaI,OAAOA,KAApB,EAAP;AACA;;AAEDQ,QAAQhB,QAAR,GAAmBA,QAAnB;;AAGA,SAASC,SAAT,CAAmBgB,IAAnB,EAAyB;;AAExBf,SAAQC,GAAR,CAAYc,KAAKb,IAAjB;AACA,KAAIc,OAAM,EAAV;AACA,MAAK,IAAIC,WAAW,CAApB,EAAuBA,WAAWF,KAAKb,IAAL,CAAUG,MAA5C,EAAoDY,UAApD,EAAgE;;AAE/D,MAAIC,MAAMvB,EAAE,yBAAF,CAAV;;AAEA,OAAK,IAAIwB,YAAY,CAArB,EAAwBA,YAAYJ,KAAKb,IAAL,CAAUE,KAA9C,EAAqDe,WAArD,EAAkE;;AAEjE,OAAIC,gBAAgBL,KAAKT,KAAL,CAAWe,KAAX,EAApB;AACA,OAAIC,OAAO3B,uDACUyB,aADV,kCAAX;AAGAF,OAAIK,MAAJ,CAAWD,IAAX;AACA;;AAEDN,OAAKR,IAAL,CAAUU,GAAV;AACA;;AAEDvB,GAAE,QAAF,EAAY6B,IAAZ,CAAiBR,IAAjB;AAEA;;AAGD,SAASP,YAAT,CAAsBgB,GAAtB,EAA2BC,GAA3B,EAAgC;AAC/B,QAAOD,MAAME,KAAKC,KAAL,CAAWD,KAAKE,MAAL,MAAiBH,MAAMD,GAAN,GAAY,CAA7B,CAAX,CAAb;AACA;;AAGD,IAAIK,gBAAgB,EAApB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAC1B,KAAIA,MAAMC,MAAN,CAAaC,OAAb,KAAyB,MAA7B,EAAqC;AACpC,MAAIC,UAAUH,MAAMC,MAApB;;AAEA,MAAIG,eAAeN,cAAcO,OAAd,CAAsBF,OAAtB,CAAnB;AACA,MAAIC,gBAAgB,CAApB,EAAuB;AACtBzC,KAAEwC,OAAF,EAAWG,WAAX,CAAuB,MAAvB,EAA+B,KAA/B;AACAR,iBAAcS,MAAd,CAAqBH,YAArB,EAAmC,CAAnC;AACA;AACA;;AAEDN,gBAActB,IAAd,CAAmB2B,OAAnB;AACAxC,IAAEwC,OAAF,EAAWG,WAAX,CAAuB,MAAvB,EAA+B,IAA/B;;AAEA;AACA,MAAIR,cAAcU,MAAd,KAAyB,CAA7B,EAAgC;AAC/B,OAAIC,SAASX,cACXY,GADW,CACP,UAACP,OAAD;AAAA,WAAaxC,EAAEwC,OAAF,EAAWpB,IAAX,CAAgB,IAAhB,CAAb;AAAA,IADO,EAEX4B,MAFW,CAEJ,UAAC/B,CAAD,EAAIC,CAAJ,EAAU;AACjB,WAAOD,MAAMC,CAAb;AACA,IAJW,CAAb;;AAMA,OAAI4B,MAAJ,EAAY;AACXX,kBAAcc,OAAd,CAAsB,UAACC,CAAD;AAAA,YAAOC,WAAW;AAAA,aAAMnD,EAAEkD,CAAF,EAAKP,WAAL,CAAiB,QAAjB,CAAN;AAAA,MAAX,EAA6C,GAA7C,CAAP;AAAA,KAAtB;AACA,IAFD,MAEO;AACNR,kBAAcc,OAAd,CAAsB;AAAA,YAAKE,WAAW;AAAA,aAAMnD,EAAEkD,CAAF,EAAKP,WAAL,CAAiB,MAAjB,EAAyB,KAAzB,CAAN;AAAA,MAAX,EAAkD,GAAlD,CAAL;AAAA,KAAtB;AACA;AACD;AACAR,iBAAcU,MAAd,GAAuB,CAAvB;AACA;AACD;AACD;;AAEDO,SAASC,aAAT,CAAuB,QAAvB,EAAiCC,gBAAjC,CAAkD,OAAlD,EAA2DlB,UAA3D,E","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bf7ac1d2b86fa0c93d22","const apiUrl = 'https://kde.link/test/get_field_size.php';\nconst imageCount = 12;\n\n$.getJSON(apiUrl).then(getPairs).then(drawField);\n\n//debugger;\n\nconsole.log(DEV);\n\nfunction getPairs(size) {\n\n\tlet pairCount = size.width * size.height / 2;\n\n\tlet pairs = [];\n\tfor (let i = 0; i < pairCount; i++) {\n\t\tpairs.push(getRandomInt(1, imageCount));\n\t}\n\n\tpairs = pairs.concat(pairs);\n\tpairs.sort((a, b) => getRandomInt(0, 1));\n\n\tsize.pairs = pairs;\n\n\n\treturn {size: size, pairs: pairs};\n}\n\nexports.getPairs = getPairs;\n\n\nfunction drawField(data) {\n\n\tconsole.log(data.size);\n\tlet rows= [];\n\tfor (let rowIndex = 0; rowIndex < data.size.height; rowIndex++) {\n\n\t\tlet row = $('<div class=\"row\"></div>');\n\n\t\tfor (let cellIndex = 0; cellIndex < data.size.width; cellIndex++) {\n\n\t\t\tlet rndImageIndex = data.pairs.shift();\n\t\t\tlet cell = $(`<div class=\"cell\">\n\t\t\t\t\t\t\t<item data-id=${ rndImageIndex }></item>\n\t\t\t\t\t\t</div>`);\n\t\t\trow.append(cell);\n\t\t}\n\n\t\trows.push(row);\n\t}\n\n\t$('.field').html(rows);\n\n}\n\n\nfunction getRandomInt(min, max) {\n\treturn min + Math.floor(Math.random() * (max - min + 1));\n}\n\n\nlet selectedPairs = [];\n\nfunction selectItem(event) {\n\tif (event.target.tagName === 'ITEM') {\n\t\tlet element = event.target;\n\n\t\tlet elementIndex = selectedPairs.indexOf(element);\n\t\tif (elementIndex >= 0) {\n\t\t\t$(element).toggleClass('open', false);\n\t\t\tselectedPairs.splice(elementIndex, 1);\n\t\t\treturn;\n\t\t}\n\n\t\tselectedPairs.push(element);\n\t\t$(element).toggleClass('open', true);\n\n\t\t//second item opened - check both and decide\n\t\tif (selectedPairs.length === 2) {\n\t\t\tlet isSame = selectedPairs\n\t\t\t\t.map((element) => $(element).data('id'))\n\t\t\t\t.reduce((a, b) => {\n\t\t\t\t\treturn a === b;\n\t\t\t\t});\n\n\t\t\tif (isSame) {\n\t\t\t\tselectedPairs.forEach((e) => setTimeout(() => $(e).toggleClass('hidden'), 500));\n\t\t\t} else {\n\t\t\t\tselectedPairs.forEach(e => setTimeout(() => $(e).toggleClass('open', false), 500));\n\t\t\t}\n\t\t\t//clear pairs arr\n\t\t\tselectedPairs.length = 0;\n\t\t}\n\t}\n}\n\ndocument.querySelector('.field').addEventListener('click', selectItem);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/app.js"],"sourceRoot":""}